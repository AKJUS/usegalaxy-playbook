---

tools:

  # abstract tools for inheritance

  _hpc:
    abstract: true
    #inherits: _default
    scheduling:
      accept:
      - pulsar
      require:
      - hpc

  _conda_in_singularity:
    abstract: true
    params:
      container_override:
        - type: singularity
          shell: /bin/sh
          resolve_dependencies: true
          # TODO: commit to CVMFS
          # image is https://github.com/natefoo/usegalaxy.org-legacy-environment
          identifier: /corral4/main/singularity/usegalaxy.org-legacy-environment--0

  #
  # Regular tools
  #

  toolshed.g2.bx.psu.edu/repos/pjbriggs/trimmomatic/trimmomatic/.*:
    cores: 3
    mem: 11.5
    env:
      _JAVA_OPTIONS: -Xmx{int(mem)}G -Xms1G
    rules:
    - id: trimmomatic_small_input_rule
      if: input_size < 0.015
      cores: 1
      mem: 3.8
    - id: trimmomatic_medium_input_rule
      if: 0.015 <= input_size < 3
      cores: 2
      mem: 7.6

  toolshed.g2.bx.psu.edu/repos/crs4/prokka/prokka/.*:
    cores: 8
    mem: 28.0
    rules:
    - id: prokka_small_input_rule
      if: input_size < 0.001
      cores: 2
      mem: 7.6
    - id: prokka_fail_rule
      if: input_size >= 0.03
      fail: Too much data, Prokka is designed to annotate bacterial/virus genomes
        only. Prokka will not annotate eukaryotic genomes nor metagenomes.

  toolshed.g2.bx.psu.edu/repos/devteam/bowtie2/bowtie2/.*:
    cores: 8
    mem: 28.0
    rules:
    - id: bowtie2_small_input_rule
      if: input_size < 0.1
      cores: 2
      mem: 7.6

  toolshed.g2.bx.psu.edu/repos/iuc/quast/quast/.*:
    cores: 16
    mem: 61.4
    rules:
    - id: quast_small_input_rule
      if: input_size < 1
      cores: 1
      mem: 3.8

  toolshed.g2.bx.psu.edu/repos/iuc/stringtie/stringtie/.*:
    cores: 5
    mem: 19.1
    rules:
    - id: stringtie_small_input_rule
      if: input_size < 0.2
      cores: 1
      mem: 3.8
    - id: stringtie_medium_input_rule
      if: 0.2 <= input_size < 2
      cores: 3
      mem: 11.5

  toolshed.g2.bx.psu.edu/repos/iuc/trinity/trinity/.*:
    cores: 24
    mem: 250
    scheduling:
      require:
      - hpc
      prefer:
      - bridges2
      reject:
      - general
    rules:
      - if: input_size < 0.1
        cores: 1
        mem: 4
        scheduling:
          require:
          - general
          reject:
          - hpc
      - if: 0.1 <= input_size < 1
        cores: 12
        mem: 92
      - if: 1 <= input_size < 4
        cores: 16
        mem: 128
      - if: 4 <= input_size < 8
        cores: 20
        mem: 190
      - if: input_size >= 80
        fail: |
          Too much data, we cannot support such large Trinity assemblies with our
          backend. Please use another server for your job.

  _deeptools_multicore:
    abstract: true
    cores: 8
    mem: 28.0
  toolshed.g2.bx.psu.edu/repos/bgruening/deeptools_bam_compare/deeptools_bam_compare/.*: {inherits: _deeptools_multicore}
  toolshed.g2.bx.psu.edu/repos/bgruening/deeptools_bam_coverage/deeptools_bam_coverage/.*: {inherits: _deeptools_multicore}
  toolshed.g2.bx.psu.edu/repos/bgruening/deeptools_bam_pe_fragmentsize/deeptools_bam_pe_fragmentsize/.*: {inherits: _deeptools_multicore}
  toolshed.g2.bx.psu.edu/repos/bgruening/deeptools_bigwig_compare/deeptools_bigwig_compare/.*: {inherits: _deeptools_multicore}
  toolshed.g2.bx.psu.edu/repos/bgruening/deeptools_compute_gc_bias/deeptools_compute_gc_bias/.*: {inherits: _deeptools_multicore}
  toolshed.g2.bx.psu.edu/repos/bgruening/deeptools_compute_matrix/deeptools_compute_matrix/.*: {inherits: _deeptools_multicore}
  toolshed.g2.bx.psu.edu/repos/bgruening/deeptools_correct_gc_bias/deeptools_correct_gc_bias/.*: {inherits: _deeptools_multicore}
  toolshed.g2.bx.psu.edu/repos/bgruening/deeptools_multi_bam_summary/deeptools_multi_bam_summary/.*: {inherits: _deeptools_multicore}
  toolshed.g2.bx.psu.edu/repos/bgruening/deeptools_multi_bigwig_summary/deeptools_multi_bigwig_summary/.*: {inherits: _deeptools_multicore}
  toolshed.g2.bx.psu.edu/repos/bgruening/deeptools_plot_coverage/deeptools_plot_coverage/.*: {inherits: _deeptools_multicore}
  toolshed.g2.bx.psu.edu/repos/bgruening/deeptools_plot_enrichment/deeptools_plot_enrichment/.*: {inherits: _deeptools_multicore}
  toolshed.g2.bx.psu.edu/repos/bgruening/deeptools_plot_fingerprint/deeptools_plot_fingerprint/.*: {inherits: _deeptools_multicore}

  toolshed.g2.bx.psu.edu/repos/bgruening/sailfish/sailfish/.*:
    cores: 4
    mem: 15.3
    rules:
    - id: sailfish_small_input_rule
      if: input_size < 0.2
      cores: 1
      mem: 3.8

  toolshed.g2.bx.psu.edu/repos/bgruening/flye/flye/.*:
    cores: 2
    rules:
    - if: 0.15 <= input_size < 0.5
      cores: 4
      mem: 12
      scheduling:
        accept:
        - general
        reject:
        - hpc
    - if: 0.5 <= input_size < 10
      cores: 30
      mem: 80
      scheduling:
        accept:
        - hpc
        - jetstream2
        reject:
        - roundup
    - if: input_size >= 10
      # from AU
      #cores: 120
      #mem: 1922
      cores: 56
      mem: 94
      scheduling:
        accept:
        - hpc
        reject:
        - general

  toolshed.g2.bx.psu.edu/repos/iuc/busco/busco/.*:
    # busco fails miserably on Stampede2 (all partitions) with a variety of multiprocessing-related errors
    cores: 20
    mem: 60
    scheduling:
      require:
      - hpc
      reject:
      - stampede2

  toolshed.g2.bx.psu.edu/repos/devteam/bwa/bwa/.*:
    cores: 2
    scheduling:
      require:
      - cvmfs
    rules:
    - if: 0.25 <= input_size < 1
      cores: 4
      mem: cores * 3.6
    - if: input_size >= 1
      cores: 8
      mem: cores * 3.6

  toolshed.g2.bx.psu.edu/repos/devteam/cuffdiff/cuffdiff/.*:
    cores: 1
    mem: 3.8
    rules:
    - if: 2 <= input_size
      cores: 4
      mem: 15.3

  toolshed.g2.bx.psu.edu/repos/devteam/cufflinks/cufflinks/.*:
    cores: 5
    mem: 19.1
    rules:
    - id: cufflinks_small_input_rule
      if: input_size < 0.1
      cores: 1
      mem: 3.8
    - id: cufflinks_medium_input_rule
      if: 0.1 <= input_size < 4
      cores: 3
      mem: 11.5

  toolshed.g2.bx.psu.edu/repos/devteam/cuffmerge/cuffmerge/.*:
    cores: 3
    mem: 11.5
    rules:
    - id: cuffmerge_small_input_rule
      if: input_size < 0.1
      cores: 1
      mem: 3.8

  toolshed.g2.bx.psu.edu/repos/devteam/cuffnorm/cuffnorm/.*:
    cores: 5
    mem: 19.1

  toolshed.g2.bx.psu.edu/repos/devteam/freebayes/freebayes/.*:
    cores: 8
    mem: 28.0
    rules:
    - id: freebayes_small_input_rule
      if: input_size < 0.2
      cores: 2
      mem: 7.6
    - id: freebayes_medium_input_rule
      if: 0.2 <= input_size < 4
      cores: 4
      mem: 15.3
    - id: freebayes_fail_rule
      if: input_size >= 50
      fail: "Too much data for this public service, please input fewer alignments."

  toolshed.g2.bx.psu.edu/repos/bgruening/hifiasm/hifiasm/.*:
    cores: 64
    mem: 120
    scheduling:
      require:
      - hpc

  toolshed.g2.bx.psu.edu/repos/devteam/kraken/kraken/.*:
    cores: 20
    mem: 20
    scheduling:
      require:
      - hpc
      - cvmfs

  # TODO: rule to set mem based on database size, see job router
  toolshed.g2.bx.psu.edu/repos/iuc/kraken2/kraken2/.*:
    cores: 40
    mem: 120
    scheduling:
      require:
      - hpc
      - cvmfs

  toolshed.g2.bx.psu.edu/repos/iuc/abyss/abyss-pe/.*:
    cores: 90
    mem: 120
    scheduling:
      require:
      - stampede2-knl
      reject:
      - general
    rules:
    - id: abyss-pe_small_input_rule
      if: input_size < 0.002
      cores: 2
      mem: 8
      scheduling:
        require:
        - general
        reject:
        - stampede2-knl
    - id: abyss-pe_medium_input_rule
      if: 0.002 <= input_size < 5
      cores: 32
      mem: 94

    # TODO: reject over a certain input size, what is that input size?

  toolshed.g2.bx.psu.edu/repos/nml/spades/spades/.*:
    cores: 60
    mem: 254
    scheduling:
      require:
      - hpc
      reject:
      - general
    rules:
    - id: spades_small_input_rule
      if: input_size < 0.005
      cores: 2
      mem: 7.6
      scheduling:
        require:
        - general
        reject:
        - hpc
    - id: spades_medium_input_rule
      if: 0.005 <= input_size < 2
      cores: 8
      mem: 28
      scheduling:
        require:
        - general
        reject:
        - hpc
    - id: spades_fail_rule
      if: input_size >= 25
      fail: "Too much data for this public service, please input fewer reads. Example method: SeqTk subsample"

  toolshed.g2.bx.psu.edu/repos/iuc/unicycler/unicycler/.*:
    cores: 24
    mem: 80
    scheduling:
      require:
      - hpc
      reject:
      - general
    rules:
    - id: unicycler_small_input_rule
      if: input_size < 0.05
      cores: 1
      mem: 3.8
      scheduling:
        require:
        - general
        reject:
        - hpc
    - id: unicycler_medium_input_rule
      if: 0.05 <= input_size < 2
      cores: 8
      mem: 28
      scheduling:
        require:
        - general
        reject:
        - hpc

  toolshed.g2.bx.psu.edu/repos/devteam/ncbi_blast_plus/ncbi_blastn_wrapper/.*:
    cores: 4
    mem: 16
    scheduling:
      require:
      - jetstream2
      - cvmfs
      reject:
      - hpc
    rules:
    - id: ncbi_blastn_wrapper_db_rule
      if: |
        helpers.job_args_match(job, app, {'db_opts': {'db_opts_selector': 'db'}})
      cores: 24
      mem: 80
      scheduling:
        require:
        - hpc
        - cvmfs
        reject:
        - jetstream2
  toolshed.g2.bx.psu.edu/repos/devteam/ncbi_blast_plus/ncbi_blastp_wrapper/.*:
    inherits: toolshed.g2.bx.psu.edu/repos/devteam/ncbi_blast_plus/ncbi_blastn_wrapper/.*
  toolshed.g2.bx.psu.edu/repos/devteam/ncbi_blast_plus/ncbi_blastx_wrapper/.*:
    cores: 24
    mem: 80
    scheduling:
      require:
      - hpc
      # FIXME: only if selected
      - cvmfs
  toolshed.g2.bx.psu.edu/repos/devteam/ncbi_blast_plus/ncbi_rpsblast_wrapper/.*:
    inherits: toolshed.g2.bx.psu.edu/repos/devteam/ncbi_blast_plus/ncbi_blastx_wrapper/.*
  toolshed.g2.bx.psu.edu/repos/devteam/ncbi_blast_plus/ncbi_tblastn_wrapper/.*:
    inherits: toolshed.g2.bx.psu.edu/repos/devteam/ncbi_blast_plus/ncbi_blastn_wrapper/.*
  toolshed.g2.bx.psu.edu/repos/devteam/ncbi_blast_plus/ncbi_tblastx_wrapper/.*:
    inherits: toolshed.g2.bx.psu.edu/repos/devteam/ncbi_blast_plus/ncbi_blastx_wrapper/.*

  verkko:
    cores: 32
    mem: 120
    scheduling:
      accept:
      - pulsar
      reject:
      - hpc

  #
  # Conda-in-Singularity and other legacy tools
  #

  # No datamash=1.0.6 container
  toolshed.g2.bx.psu.edu/repos/iuc/datamash_reverse/datamash_reverse/1.0.6: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/datamash_transpose/datamash_transpose/1.0.6: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/datamash_ops/datamash_ops/1.0.6: {inherits: _conda_in_singularity}

  # No fastx_toolkit=0.0.13 container
  toolshed.g2.bx.psu.edu/repos/devteam/fastx_artifacts_filter/cshl_fastx_artifacts_filter/1.0.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/fastx_renamer/cshl_fastx_renamer/0.0.11: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/fastq_quality_filter/cshl_fastq_quality_filter/1.0.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/fastx_clipper/cshl_fastx_clipper/1.0.1: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/fastx_reverse_complement/cshl_fastx_reverse_complement/1.0.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/fastx_trimmer/cshl_fastx_trimmer/1.0.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/fasta_nucleotide_changer/cshl_fasta_nucleotides_changer/1.0.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/fastq_quality_converter/cshl_fastq_quality_converter/1.0.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/fastx_collapser/cshl_fastx_collapser/1.0.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/fasta_formatter/cshl_fasta_formatter/1.0.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/fastx_quality_statistics/cshl_fastx_quality_statistics/1.0.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/fastx_nucleotides_distribution/cshl_fastx_nucleotides_distribution/1.0.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/fastx_barcode_splitter/cshl_fastx_barcode_splitter/1.0.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/fastq_quality_boxplot/cshl_fastq_quality_boxplot/1.0.0: {inherits: _conda_in_singularity}

  # No ea-utils=1.1.2-806 container
  toolshed.g2.bx.psu.edu/repos/lparsons/fastq_join/fastq_join/1.1.2-806.1: {inherits: _conda_in_singularity}

  # No gnu_coreutils container, but most of the tp tools could probably run in the legacy container without traditional deps
  toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_cat/0.1.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_cut_tool/1.0.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_easyjoin_tool/1.0.0: {inherits: _conda_in_singularity}
  # In this case, the conda dep is actually broken since grep is compiled without PCRE support, so just use the container grep
  toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_grep_tool/1.0.0:
    params:
      container_override: [{type: singularity, shell: '/bin/sh', identifier: "/corral4/main/singularity/usegalaxy.org-legacy-environment--0"}]
  # Can't find strict.pm?
  toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_multijoin_tool/1.0.0:
    params:
      container_override: [{type: singularity, shell: '/bin/sh', identifier: "/corral4/main/singularity/usegalaxy.org-legacy-environment--0"}]
  toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_head_tool/1.0.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_sed_tool/1.0.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_sort_header_tool/1.0.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_sorted_uniq/1.0.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_tac/1.0.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_tail_tool/1.0.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_text_file_with_recurring_lines/1.0.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_unfold_column_tool/1.0.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_uniq_tool/1.0.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_sort_rows/1.0.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_sort_rows/1.1.0: {inherits: _conda_in_singularity}

  # Has requirement for cutadapt but also needs /usr/bin/perl
  toolshed.g2.bx.psu.edu/repos/bgruening/trim_galore/trim_galore/0.4.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/bgruening/trim_galore/trim_galore/0.4.1: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/bgruening/trim_galore/trim_galore/0.4.2: {inherits: _conda_in_singularity}

  #
  toolshed.g2.bx.psu.edu/repos/devteam/tabular_to_fasta/tab2fasta/1.1.0: {inherits: _conda_in_singularity}

  # samtools:0.1.16 image is broken and needs rebuild: /usr/local/bin/samtools: error while loading shared libraries: libncurses.so.5: cannot open shared object file: No such file or directory
  toolshed.g2.bx.psu.edu/repos/devteam/sam_pileup/sam_pileup/1.1.3: {inherits: _conda_in_singularity}

  # no mulled container for requirements and it's too old to create one
  toolshed.g2.bx.psu.edu/repos/devteam/bamtools/bamtools/0.0.1: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/bamtools/bamtools/0.0.2: {inherits: _conda_in_singularity}

  # dunno, can't look these all up
  toolshed.g2.bx.psu.edu/repos/devteam/sam2interval/sam2interval/1.0.1: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/bamtools_split/bamSplit/0.0.1: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/bamtools_split/bamSplit/0.0.2: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/bamtools_filter/bamFilter/0.0.1: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/bamtools_filter/bamFilter/0.0.2: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/sam_to_bam/sam_to_bam/1.1.3: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/samtools_slice_bam/samtools_slice_bam/0.0.1: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/sam_bitwise_flag_filter/sam_bw_filter/1.0.0: {inherits: _conda_in_singularity}

  # no bedtools:2.24.* biocontainer for whatever reason
  toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_makewindowsbed/2.24.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_maskfastabed/2.24.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_overlapbed/2.24.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_genomecoveragebed/2.24.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_flankbed/2.24.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_expandbed/2.24.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_randombed/2.24.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_slopbed/2.24.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_bedtobam/2.24.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_bedpetobam/2.24.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_nucbed/2.24.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_multicovtbed/2.24.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_fisher/2.24.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_tagbed/2.24.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_map/2.24.1: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_bed12tobed6/2.24.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_clusterbed/2.24.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_multiintersectbed/2.24.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_reldistbed/2.24.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_windowbed/2.24.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_links/2.24.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_mergebed/2.24.1: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_intersectbed/2.24.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_complementbed/2.24.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_shufflebed/2.24.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_getfastabed/2.24.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_bamtobed/2.24.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_jaccard/2.24.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_groupbybed/2.24.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_closestbed/2.24.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_spacingbed/2.24.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_subtractbed/2.24.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_sortbed/2.24.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_coveragebed/2.24.1: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_annotatebed/2.24.1: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_unionbedgraph/2.24.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_bamtofastq/2.24.0: {inherits: _conda_in_singularity}

  # bedtools=2.27.0 samtools=1.2 mulled container
  # mulled-v2-8186960447c5cb2faa697666dc1e6d919ad23f3e:a3d46a26ecaad496382e8fcc83f7febe12e6c81f-0 has broken samtools
  # also this tool uses bash syntax so we have to override /bin/sh
  toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_coveragebed/2.27.0.3:
    params:
      container_override: [{type: singularity, shell: '/bin/bash', resolve_dependencies: true, identifier: "/corral4/main/singularity/usegalaxy.org-legacy-environment--0"}]

  toolshed.g2.bx.psu.edu/repos/iuc/bcftools_stats/bcftools_stats/1.9+galaxy1: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/vcf2tsv/vcf2tsv/0.0.3: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/vcfaddinfo/vcfaddinfo/0.0.3: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/vcfallelicprimitives/vcfallelicprimitives/0.0.3: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/vcfannotate/vcfannotate/0.0.3: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/vcfannotategenotypes/vcfannotategenotypes/0.0.3: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/vcfbedintersect/vcfbedintersect/0.0.3: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/vcfbreakcreatemulti/vcfbreakcreatemulti/0.0.3: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/vcfcheck/vcfcheck/0.0.3: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/vcfcombine/vcfcombine/0.0.3: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/vcfcombine/vcfcombine/0.0.4: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/vcfcommonsamples/vcfcommonsamples/0.0.3: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/vcffixup/vcffixup/0.0.3: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/vcfflatten/vcfflatten2/0.0.3: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/vcfgeno2haplo/vcfgeno2haplo/0.0.3: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/vcfgenotypes/vcfgenotypes/0.0.3: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/vcfhethom/vcfhethom/0.0.3: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/vcfleftalign/vcfleftalign/0.0.3: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/vcfprimers/vcfprimers/0.0.3: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/vcfrandomsample/vcfrandomsample/0.0.3: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/vcfsort/vcfsort/1.0.0_rc3+galaxy0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/vcfsort/vcfsort/0.0.2: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/vcfsort/vcfsort/1.0.0_rc1+galaxy0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/vcfvcfintersect/vcfvcfintersect/0.0.3: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/vcfselectsamples/vcfselectsamples/0.0.3: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/vcfdistance/vcfdistance/0.0.3: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/vcftools_annotate/vcftools_annotate/0.1: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/vcftools_slice/vcftools_slice/0.1: {inherits: _conda_in_singularity}

  #
  toolshed.g2.bx.psu.edu/repos/bgruening/deeptools_plot_correlation/deeptools_plot_correlation/2\..*: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/bgruening/deeptools_plot_correlation/deeptools_plot_correlation/3\.0\.*: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/bgruening/deeptools_plot_heatmap/deeptools_plot_heatmap/2\..*: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/bgruening/deeptools_plot_heatmap/deeptools_plot_heatmap/3\.0\.*: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/bgruening/deeptools_plot_pca/deeptools_plot_pca/2\..*: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/bgruening/deeptools_plot_pca/deeptools_plot_pca/3\.0\.*: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/bgruening/deeptools_plot_profile/deeptools_plot_profile/2\..*: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/bgruening/deeptools_plot_profile/deeptools_plot_profile/3\.0\.*: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/bgruening/ml_visualization_ex/ml_visualization_ex/1.0.7.12: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/bgruening/model_prediction/model_prediction/1.0.8.1: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/bgruening/model_prediction/model_prediction/1.0.8.2: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/blankenberg/naive_variant_caller/naive_variant_caller/0.0.1: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/blankenberg/naive_variant_caller/naive_variant_caller/0.0.2: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/crs4/taxonomy_krona_chart/taxonomy_krona_chart/2.0.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/crs4/taxonomy_krona_chart/taxonomy_krona_chart/2.6.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/crs4/taxonomy_krona_chart/taxonomy_krona_chart/2.6.1: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/crs4/taxonomy_krona_chart/taxonomy_krona_chart/2.6.1.1: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/cd_hit_dup/cd_hit_dup/0.0.1: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/clustalw/clustalw/0.1: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/cluster/gops_cluster_1/1.0.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/complement/gops_complement_1/1.0.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/concat/gops_concat_1/1.0.1: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/coverage/gops_coverage_1/1.0.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/cuffcompare/cuffcompare/0.0.5: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/cuffcompare/cuffcompare/0.0.6: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/cummerbund_to_tabular/cummerbund_to_cuffdiff/1.0.1: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/divide_pg_snp/dividePgSnp/1.0.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/fastq_to_fasta/cshl_fastq_to_fasta/1.0.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/fastq_to_tabular/fastq_to_tabular/1.1.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/fastqtofasta/fastq_to_fasta_python/1.0.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/freebayes/bamleftalign/0.4: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/freebayes_wrapper/freebayes_wrapper/0.5.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/generate_pc_lda_matrix/generate_matrix_for_pca_and_lda1/1.0.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/histogram/histogram_rpy/1.0.3: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/histogram/histogram_rpy/1.0.4: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/indels_3way/indels_3way/1.0.3: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/rcve/rcve1/1.0.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/kernel_canonical_correlation_analysis/kcca1/1.0.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/kernel_principal_component_analysis/kpca1/1.0.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/principal_component_analysis/pca1/1.0.2: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/linear_regression/LinearRegression1/1.0.1: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/partialr_square/partialRsq/1.0.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/principal_component_analysis/pca1/1.0.2: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/bamleftalign/bamleftalign/0.0.2: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/find_diag_hits/find_diag_hits/1.0.0: {inherits: _conda_in_singularity}
  "toolshed.g2.bx.psu.edu/repos/devteam/gi2taxonomy/Fetch Taxonomic Ranks/1.1.0": {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/kraken2tax/Kraken2Tax/1.1: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/lca_wrapper/lca1/1.0.1: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/lda_analysis/lda_analy1/1.0.1: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/megablast_xml_parser/megablast_xml_parser/1.0.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/mutate_snp_codon/mutate_snp_codon_1/1.0.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/mine/maximal_information_based_nonparametric_exploration/0.0.1: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/plot_from_lda/plot_for_lda_output1/1.0.1: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/poisson2test/poisson2test/1.0.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/snpfreq/hgv_snpFreq/1.0.1: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/subtract/gops_subtract_1/1.0.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/subtract_query/subtract_query1/0.1: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/t2ps/Draw_phylogram/1.0.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/t2t_report/t2t_report/1.0.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/t_test_two_samples/t_test_two_samples/1.0.1: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/table_recalibration/gatk_table_recalibration/0.0.5: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/tabular_to_fastq/tabular_to_fastq/1.0.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/ucsc_custom_track/build_ucsc_custom_track_1/1.0.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/vcf2pgsnp/vcf2pgSnp/1.0.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/weblogo3/rgweblogo3/0.4: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/varscan_version_2/varscan/0.1: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/xy_plot/XY_Plot_1/1.0.1: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/ethevenot/biosigner/biosigner/2.2.7: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/ethevenot/multivariate/Multivariate/2.3.10: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/ethevenot/univariate/Univariate/2.2.4: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/galaxyp/custom_pro_db/custom_pro_db/1.22.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/galaxyp/pep_pointer/pep_pointer/0.1.3: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/gregory-minevich/check_snpeff_candidates/check_snpeff_candidates/1.0.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/gregory-minevich/cloudmap_in_silico_complementation/in_silico_complementation/1.0.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/gregory-minevich/cloudmap_variant_discovery_mapping/cloudmap_variant_discovery_mapping/1.0.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/gregory-minevich/ems_variant_density_mapping/ems_variant_density_mapping/1.0.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/gregory-minevich/snp_mapping_using_wgs/snp_mapping_using_wgs/1.0.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/guerler/dbkit/dbkit_create/0.1.1: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/guru-ananda/karyotype_plot/karyotype_Plot_1/1.0.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/guru-ananda/rhmm/hmm_1/1.0.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/circos/circgraph/0.9-RC2: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/cwpair2/cwpair2/1.0.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/dexseq/dexseq_count/1.24.0.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/duplex_family_size_distribution/fsd/1.0.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/duplex_family_size_distribution/fsd_beforevsafter/1.0.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/duplex_family_size_distribution/fsd_regions/1.0.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/duplex_family_size_distribution/td/1.0.0: {inherits: _conda_in_singularity}
  "toolshed.g2.bx.psu.edu/repos/iuc/extract_genomic_dna/Extract genomic DNA 1/3.0.3": {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/genetrack/genetrack/1.0.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/jbrowse/jbrowse/1.16.1+galaxy0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/jbrowse/jbrowse_to_standalone/1.16.1+galaxy0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/miniasm/miniasm/0.2+galaxy0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/nextclade/nextclade/1.2.3+galaxy0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/pathview/pathview/1.24.0+galaxy0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/prestor_abseq3/prestor_abseq3/0.5.4: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/repmatch_gff3/repmatch_gff3/1.0.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/repmatch_gff3/repmatch_gff3/1.0.2: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/resize_coordinate_window/resize_coordinate_window/1.0.1: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/scikit_bio_diversity_beta_diversity/scikit_bio_diversity_beta_diversity/0.4.2.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/snippy/snippy_core/4.4.5+galaxy0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/snpfreqplot/snpfreqplot/1.0+galaxy0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/variant_analyzer/mut2read/1.0.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/variant_analyzer/mut2sscs/1.0.0: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/ecology/xarray_metadata_info/xarray_metadata_info/0.15.1: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/ecology/xarray_select/xarray_select/0.15.1: {inherits: _conda_in_singularity}

  # all picard 1.126 and 1.136 tools
  toolshed.g2.bx.psu.edu/repos/devteam/picard/picard_[^/]+/1.1[23]6.0: {inherits: _conda_in_singularity}

  # all circos 0.69.8+galaxy1 tools
  toolshed.g2.bx.psu.edu/repos/iuc/circos/circos[^/]*/0.69.8+galaxy1: {inherits: _conda_in_singularity}

  # all meme tools < 5.0
  toolshed.g2.bx.psu.edu/repos/iuc/meme_[^/]+/meme_[^/]+/4\..*: {inherits: _conda_in_singularity}

  # all transit tools < 3.0.2
  toolshed.g2.bx.psu.edu/repos/iuc/transit_[^/]+/transit_[^/]+/2\..*: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/transit_[^/]+/transit_[^/]+/3\.0\.[01].*: {inherits: _conda_in_singularity}

  # featurecounts < 1.6.3
  toolshed.g2.bx.psu.edu/repos/iuc/featurecounts/featurecounts/1\.[0-5]\..*: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/iuc/featurecounts/featurecounts/1.6.[0-2].*: {inherits: _conda_in_singularity}

  # fastqc < 0.72
  toolshed.g2.bx.psu.edu/repos/devteam/fastqc/fastqc/0\.[56].*: {inherits: _conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/fastqc/fastqc/0\.7[01].*: {inherits: _conda_in_singularity}


  # Multicore Conda-in-Singularity

  # trimmomatic < 0.36.6
  _trimmomatic_conda_in_singularity:
    abstract: true
    inherits: toolshed.g2.bx.psu.edu/repos/pjbriggs/trimmomatic/trimmomatic/.*
    params:
      container_override: [{type: singularity, shell: /bin/sh, resolve_dependencies: true, identifier: /corral4/main/singularity/usegalaxy.org-legacy-environment--0}]
  toolshed.g2.bx.psu.edu/repos/pjbriggs/trimmomatic/trimmomatic/0\.32\..*: {inherits: _trimmomatic_conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/pjbriggs/trimmomatic/trimmomatic/0\.36\.[012345]: {inherits: _trimmomatic_conda_in_singularity}

  # prokka < 1.14
  toolshed.g2.bx.psu.edu/repos/crs4/prokka/prokka/1\.1[123]\..*:
    abstract: true
    inherits: toolshed.g2.bx.psu.edu/repos/crs4/prokka/prokka/.*
    params:
      container_override: [{type: singularity, shell: /bin/sh, resolve_dependencies: true, identifier: /corral4/main/singularity/usegalaxy.org-legacy-environment--0}]

  # bowtie2 < 2.3
  _bowtie2_conda_in_singularity:
    abstract: true
    inherits: toolshed.g2.bx.psu.edu/repos/devteam/bowtie2/bowtie2/.*:
    params:
      container_override: [{type: singularity, shell: /bin/sh, resolve_dependencies: true, identifier: /corral4/main/singularity/usegalaxy.org-legacy-environment--0}]
  toolshed.g2.bx.psu.edu/repos/devteam/bowtie2/bowtie2/0\..*: {inherits: _bowtie2_conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/bowtie2/bowtie2/2\.[012]\..*: {inherits: _bowtie2_conda_in_singularity}

  # quast < 5.0
  toolshed.g2.bx.psu.edu/repos/iuc/quast/quast/4\..*:
    inherits: toolshed.g2.bx.psu.edu/repos/iuc/quast/quast/.*
    params:
      container_override: [{type: singularity, shell: /bin/sh, resolve_dependencies: true, identifier: /corral4/main/singularity/usegalaxy.org-legacy-environment--0}]

  # stringtie < 1.2
  toolshed.g2.bx.psu.edu/repos/iuc/stringtie/stringtie/[01]\.[01]\..*:
    inherits: toolshed.g2.bx.psu.edu/repos/iuc/stringtie/stringtie/.*
    params:
      container_override: [{type: singularity, shell: /bin/sh, resolve_dependencies: true, identifier: /corral4/main/singularity/usegalaxy.org-legacy-environment--0}]

  # deeptools < 3.1
  _deeptools_conda_in_singularity:
    abstract: true
    inherits: _deeptools_multicore
    params:
      container_override: [{type: singularity, shell: /bin/sh, resolve_dependencies: true, identifier: /corral4/main/singularity/usegalaxy.org-legacy-environment--0}]
  toolshed.g2.bx.psu.edu/repos/bgruening/deeptools_bam_compare/deeptools_bam_compare/2\..*: {inherits: _deeptools_conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/bgruening/deeptools_bam_compare/deeptools_bam_compare/3\.0\.*: {inherits: _deeptools_conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/bgruening/deeptools_bam_coverage/deeptools_bam_coverage/2\..*: {inherits: _deeptools_conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/bgruening/deeptools_bam_coverage/deeptools_bam_coverage/3\.0\.*: {inherits: _deeptools_conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/bgruening/deeptools_bam_pe_fragmentsize/deeptools_bam_pe_fragmentsize/2\..*: {inherits: _deeptools_conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/bgruening/deeptools_bam_pe_fragmentsize/deeptools_bam_pe_fragmentsize/3\.0\.*: {inherits: _deeptools_conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/bgruening/deeptools_bigwig_compare/deeptools_bigwig_compare/2\..*: {inherits: _deeptools_conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/bgruening/deeptools_bigwig_compare/deeptools_bigwig_compare/3\.0\.*: {inherits: _deeptools_conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/bgruening/deeptools_compute_gc_bias/deeptools_compute_gc_bias/2\..*: {inherits: _deeptools_conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/bgruening/deeptools_compute_gc_bias/deeptools_compute_gc_bias/3\.0\.*: {inherits: _deeptools_conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/bgruening/deeptools_compute_matrix/deeptools_compute_matrix/2\..*: {inherits: _deeptools_conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/bgruening/deeptools_compute_matrix/deeptools_compute_matrix/3\.0\.*: {inherits: _deeptools_conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/bgruening/deeptools_correct_gc_bias/deeptools_correct_gc_bias/2\..*: {inherits: _deeptools_conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/bgruening/deeptools_correct_gc_bias/deeptools_correct_gc_bias/3\.0\.*: {inherits: _deeptools_conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/bgruening/deeptools_multi_bam_summary/deeptools_multi_bam_summary/2\..*: {inherits: _deeptools_conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/bgruening/deeptools_multi_bam_summary/deeptools_multi_bam_summary/3\.0\.*: {inherits: _deeptools_conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/bgruening/deeptools_multi_bigwig_summary/deeptools_multi_bigwig_summary/2\..*: {inherits: _deeptools_conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/bgruening/deeptools_multi_bigwig_summary/deeptools_multi_bigwig_summary/3\.0\.*: {inherits: _deeptools_conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/bgruening/deeptools_plot_coverage/deeptools_plot_coverage/2\..*: {inherits: _deeptools_conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/bgruening/deeptools_plot_coverage/deeptools_plot_coverage/3\.0\.*: {inherits: _deeptools_conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/bgruening/deeptools_plot_enrichment/deeptools_plot_enrichment/2\..*: {inherits: _deeptools_conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/bgruening/deeptools_plot_enrichment/deeptools_plot_enrichment/3\.0\.*: {inherits: _deeptools_conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/bgruening/deeptools_plot_fingerprint/deeptools_plot_fingerprint/2\..*: {inherits: _deeptools_conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/bgruening/deeptools_plot_fingerprint/deeptools_plot_fingerprint/3\.0\.*: {inherits: _deeptools_conda_in_singularity}

  # just one version of sailfish
  toolshed.g2.bx.psu.edu/repos/bgruening/sailfish/sailfish/0.7.6.0:
    inherits: toolshed.g2.bx.psu.edu/repos/bgruening/sailfish/sailfish/.*
    params:
      container_override: [{type: singularity, shell: /bin/sh, resolve_dependencies: true, identifier: /corral4/main/singularity/usegalaxy.org-legacy-environment--0}]

  # bwa(-mem) < 0.7.13
  _bwa_conda_in_singularity:
    abstract: true
    inherits: toolshed.g2.bx.psu.edu/repos/devteam/bwa/bwa/.*
    params:
      container_override: [{type: singularity, shell: /bin/sh, resolve_dependencies: true, identifier: /corral4/main/singularity/usegalaxy.org-legacy-environment--0}]
  toolshed.g2.bx.psu.edu/repos/devteam/bwa/bwa(_mem)?/0\.[123456]\..*: {inherits: _bwa_conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/bwa/bwa(_mem)?/0\.7\.12\..**: {inherits: _bwa_conda_in_singularity}

  # cuff* < 2.2.1.5
  _cuffdiff_conda_in_singularity:
    abstract: true
    inherits: toolshed.g2.bx.psu.edu/repos/devteam/cuffdiff/cuffdiff/.*
    params:
      container_override: [{type: singularity, shell: /bin/sh, resolve_dependencies: true, identifier: /corral4/main/singularity/usegalaxy.org-legacy-environment--0}]
  toolshed.g2.bx.psu.edu/repos/devteam/cuffdiff/cuffdiff/0\..*: {inherits: _cuffdiff_conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/cuffdiff/cuffdiff/2\.[01]\..*: {inherits: _cuffdiff_conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/cuffdiff/cuffdiff/2\.2\.[01]\.[01234]: {inherits: _cuffdiff_conda_in_singularity}
  _cufflinks_conda_in_singularity:
    abstract: true
    inherits: toolshed.g2.bx.psu.edu/repos/devteam/cufflinks/cufflinks/.*
    params:
  toolshed.g2.bx.psu.edu/repos/devteam/cufflinks/cufflinks/0\..*: {inherits: _cufflinks_conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/cufflinks/cufflinks/2\.[01]\..*: {inherits: _cufflinks_conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/cufflinks/cufflinks/2\.2\.[01]\.[01234]: {inherits: _cufflinks_conda_in_singularity}
  # cuffmerge < 2
  toolshed.g2.bx.psu.edu/repos/devteam/cuffmerge/cuffmerge/0\..*:
    inherits: toolshed.g2.bx.psu.edu/repos/devteam/cuffmerge/cuffmerge/.*
    params:
      container_override: [{type: singularity, shell: /bin/sh, resolve_dependencies: true, identifier: /corral4/main/singularity/usegalaxy.org-legacy-environment--0}]

  # freebayes < 1.1
  _freebayes_conda_in_singularity:
    abstract: true
    inherits: toolshed.g2.bx.psu.edu/repos/devteam/freebayes/freebayes/.*
    params:
      container_override: [{type: singularity, shell: /bin/sh, resolve_dependencies: true, identifier: /corral4/main/singularity/usegalaxy.org-legacy-environment--0}]
  toolshed.g2.bx.psu.edu/repos/devteam/freebayes/freebayes/0\..*: {inherits: _freebayes_conda_in_singularity}
  toolshed.g2.bx.psu.edu/repos/devteam/freebayes/freebayes/1\.0.*: {inherits: _freebayes_conda_in_singularity}
