---

# by default, tools are assigned 1 core, 8 GB of memory, and a 36 hour walltime

# either a key in destinations below, a job_conf destination id or tag, or the special 'dynamic'
tools:
  kraken:
    # can be a list if you want to do different things with different params (or one thing with no checked params)
    - params:
        - name: kraken_database
          value: bacteria
      destination: stampede_skx_normal
      reserved: false
  trinity:
    - params:
        - name: pool.inputs.paired_or_single
          value: paired_collection
        # comparison is implicitly on size of pair member 0
        - name: pool.inputs.pair_input
          op: '<'
          value: 10G
      destination: bridges_normal
      spec:
        # 5 * 48GB
        mem: 240G
        time: 72
    - params:
        - name: pool.inputs.paired_or_single
          value: paired_collection
        - name: pool.inputs.pair_input
          op: '<'
          value: 100G
      destination: bridges_normal
      spec:
        # 10 * 48GB
        mem: 480G
        time: 96
    - params:
        - name: pool.inputs.paired_or_single
          value: paired_collection
      destination: bridges_normal
      spec:
        # 15 * 48GB
        mem: 720G
        time: 96
    # TODO: separate vals if normalizing/not, plus param matches for non-pair

# don't overlap destinations defined in job_conf for confusion purposes
#destinations:
#  slurm_normal_16gb:
#    id: slurm_normal
#    reserved: true
#    params:
#      mem: 16384

multi_tools:
  - gemini_load
  - dada2_assignTaxonomyAddspecies
  - deeptools_bam_compare
  - deeptools_bam_coverage
  - deeptools_bam_pe_fragmentsize
  - deeptools_bigwig_compare
  - deeptools_compute_gc_bias
  - deeptools_compute_matrix
  - deeptools_correct_gc_bias
  - deeptools_multi_bam_summary
  - deeptools_multi_bigwig_summary
  - deeptools_plot_coverage
  - deeptools_plot_fingerprint
  - kraken
  - ideas
  - bwa
  - bwa_mem
  - bwa_wrapper
  - bowtie2
  - bowtie_wrapper
  - tophat
  - tophat2
  - cuffdiff
  - cufflinks
  - cuffmerge
  - cuffnorm
  - cuffquant
  - stringtie
  - hisat2
  - prokka
  - rbc_mafft
  - kc-align
  - hyphy_absrel
  - hyphy_fel
  - hyphy_gard
  - hyphy_meme
  - kraken

# these tools get 1 core and 16 GB of memory
#normal_16gb_tools: []

# these tools get 1 core and 32 GB of memory
#normal_32gb_tools: []

# these tools get 1 core and 32 GB of memory
#normal_32gb_tools: []

# these tools are fully dynamic
#dynamic_tools:
